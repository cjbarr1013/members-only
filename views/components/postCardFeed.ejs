<article
  class="grid-item post-card mb-2 flex w-full flex-col justify-between gap-4 lg:w-[calc((100%-8px)/2)] 2xl:w-[calc((100%-16px)/3)]"
>
  <div class="flex justify-between gap-4">
    <div class="flex items-center justify-start gap-2">
      <a
        href="/view/profile/<%= post.username %>"
        class="group flex items-center gap-2"
        aria-label="View user profile"
      >
        <img
          class="h-8 w-8 rounded-lg object-cover"
          src="<%= post.has_pic ? getImgUrlSm(post.username, post.pic_version) : '/images/placeholder-sm.png' %>"
          alt=""
          loading="lazy"
          width="32"
          height="32"
        />
        <div class="text-sm font-bold overflow-ellipsis group-hover:underline">
          <%= post.username %>
        </div>
      </a>
      <% if (post.admin) { %> <%- include('./adminBadge') %> <% } %>
    </div>
    <!--prettier-ignore-->
    <% if (currentUser && currentUser.admin) { %> <%- include('./buttonDeleteItem', {postId: post.id, commentId: null}) %> <% } %>
  </div>
  <div class="flex grow flex-col gap-1 wrap-anywhere">
    <h2 class="p-0.5 text-lg/6 font-semibold">
      <a
        href="/view/posts/<%= post.id %>"
        class="line-clamp-3 hover:underline"
        aria-label="View page for post"
      >
        <%= post.title %>
      </a>
    </h2>
    <p class="line-clamp-10 text-sm whitespace-pre-wrap"><%= post.message %></p>
  </div>
  <div class="flex items-center justify-between gap-4 text-sm">
    <a
      href="/view/posts/<%= post.id %>"
      class="rounded-lg bg-gray-100 px-4 py-1 hover:bg-gray-200 dark:bg-gray-700 dark:hover:bg-gray-600"
      aria-label="View page for post"
    >
      <%= post.comment_count %>
      <span> comments</span>
    </a>
    <time><%= formatDate(post.added) %></time>
  </div>
</article>
